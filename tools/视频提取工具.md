1. **安装yt-dlp** (需要先安装Python和pip)

   ```bash
   pip install yt-dlp
   ```

2. **下载视频并直接提取为音频** (推荐格式：mp3或m4a)

   ```bash
   yt-dlp -x --audio-format mp3 -o "%(title)s.%(ext)s" <视频URL>
   ```

   - `-x`: 提取音频

   - `--audio-format mp3`: 指定音频格式为mp3

   - `-o "%(title)s.%(ext)s"`: 输出文件名为视频标题

   - **示例**：

     ```bash
     yt-dlp --ffmpeg-location "D:\ffmpeg\ffmpeg-master-latest-win64-gpl-shared\bin\ffmpeg.exe" -x --audio-format mp3 -o "%(title)s.%(ext)s" https://www.bilibili.com/video/BV1xQ4y1b7JS/
     ```

     ### 第二步：语音转文字 (STT)

**推荐工具：`OpenAI Whisper`** (本地、免费、高精度)

1. **安装Whisper** (需要Python 3.8+)

   ```bash
   pip install openai-whisper
   ```

   // 或者使用更快实现的`faster-whisper` (推荐)

   ```bash
   pip install faster-whisper
   ```

   

2. **使用Whisper转换音频**

   ```bash
   whisper "从零开始认识主板.mp3" --model medium --language zh --output_dir ./knowledge-transcripts
   ```

   

   - `--model medium`: 指定模型。模型越大(`small`, `medium`, `large`)，精度越高，速度越慢。对于科技类中文视频，`medium`通常够用。
   - `--language zh`: 指定中文，可提高准确率。
   - `--output_dir ./transcripts`: 输出目录，Whisper会生成txt、srt、vtt等多种格式文件。

一键处理视频
```bash
   python -m knowledge_builder.scripts.process_videos data/input/videos.csv

```
只处理未增强的视频
```bash
   python -m knowledge_builder.scripts.enhance_texts data/transcripts
```